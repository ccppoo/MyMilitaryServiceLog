# CPU bound vs GPU bound (1/2)

* 서문

* 바운드? - CPU bound, GPU bound

    * CPU bound - 논리적인 판단과 중요한 정보를 처리하는 부서

    * GPU bound - 화면을 그리는 부서

* 중간 정리

## 서문

2010년대부터 고사양의 컴퓨터 게임이 늘어나고, 사용자들의 컴퓨터 구매력이 증가함에 따라

하이엔드 컴퓨터가 PC방이 아닌 일반인들에게 또한 많이 보편화되었다.

특히 배틀그라운드가 한국에 상륙하고 나서, 기존의 대세 게임 리그오브레전드보다 더 많은 컴퓨팅 파워를 요구함에 따라

하이스펙의 그래픽카드(VGA)와 CPU에 대한 성능 비교글은 전문인이 아니더라도

게임을 하는 사람이라면 자주 접하게 될 수 있는 이야깃거리가 되었다.

마침 (비동기 프로그래밍)[]에 대한 글을 쓰기 위해 CPU bound에 대해서 자료를 찾아보던 도중

CPU bound와 GPU bound에 대한 영상을 우연히 볼 수 있었고,

프로세서의 속도가 무작정 높으면 좋은줄만 알았던 사람들에게 조금 도움이 되고자,

CPU bound와 GPU bound에 대해 가벼운 지식거리를 알리고자 이 글을 쓰게되었다.

## 바운드? - CPU bound, GPU bound

바운드(bound)라는 용어를 접해봤다면, 컴퓨터 부품을 구매하는 상황에서보다

최적화가 덜되어 게임 플레이에 문제가 발생하는 경험(예: 프레임 드랍)을 했을 경우 많이 들었을 것이다.

우선 용어를 정리하기에 있어 컴퓨터를 상대할 때

* 컴퓨터 본체는 상품을 만드는 대기업,

* 컴퓨터를 구성하는 각종 하드웨어(GPU, CPU, 메모리, 등)는 소속 부서

* 우리가 실행하고 있는 프로그램(대표적으로 게임)이 만들어진 상품

으로 간단히 도식화하고 머리속에 그림을 그리면 이해하는데 도움이 될 수 있다.

**게임이 공감하기 쉽고, 예시로 '게임'으로 설명을 이어나가겠다.**

! 프로그램, 즉 *게임의 성능*은 좋은 사용자 경험('와 게임 프레임 드랍 없네~', '게임 안 끊기고 잘 돌아가네~', 등)을 의미하는 것이다.

### CPU bound - 논리적인 판단과 중요한 정보를 처리하는 부서

우선 CPU bound는 특정 프로그램이 *CPU의 성능에 비례*해 돌아간다는 의미다.

"CPU 너만 잘하면 돼!"라고 할 수 있는 프로그램을 CPU bound한 프로그램이라고 부른다.

하지만 나 혼자하는 게임이 아닌 배틀그라운드 같은 경우 네트워크 성능에 따라 게임이 제대로 작동하지 않는 경우가 있기 때운데 

단순히 CPU bound하다고 바로 단정지을 수 없다.

마치 회사에서 문제가 발생했을 경우 **단 하나의 부서**만 잘못했다고 단정지을 수 없는 것과 같다.

### GPU bound - 화면을 그리는 부서

CPU bound의 의미와 똑같이 GPU bound는 프로그램의 성능이 *GPU 성능에 비례*한다는 뜻이다.

GPU는 CPU가 할 수 있는 병렬 계산 작업을 전문적으로 하는 부서와 같다.

GPU는 CPU가 해야되는 대용량 연산을 떠맡아 하는 역할을 갖고 있다.

자동차 회사로 비유하자면, 상품의 도안, 디자인, 설계도 같이 고도화된 작업을 CPU가 하면

GPU는 생산라인과 같아, CPU가 준 도안대로 대량으로 생산,조립을 하면되는 역할이다.

물론! GPU 없이 CPU가 모든일을 맡을 수 있다.

하지만 일을 효율적으로 하기위해 만든 하드웨어가 GPU다.

그 차이가 궁금하다면 직접 위키백과를 찾아보자.

## 중간 정리

CPU bound는 프로그램 성능이 *CPU 성능에 따라 비례*할 떄

GPU bound는 프로그램 성능이 *GPU 성능에 따라 비례*할 떄

라고 간단히 설명했다.

여기서 **CPU/GPU 성능에 따라 프로그램 성능이 비례한다**는 뜻은

CPU/GPU를 제외한 다른 하드웨어 부품은 제대로 작동한다는 것(다른 부품에 의해 성능 저하 발생이 없는 경우)이다.

그리고 한 회사 내부의 영향을 주고 받는 부서로 예시를 들었다.

## 덧,

* 1. 현대 하드웨어 성능을 100% 사용할 수 있는 프로그램(앱)은 거의 전무하다.

    회사마다 제조하는 아키텍처도 다르고, 성능도 다르고, CPU/GPU 오래된 존재하며

    CPU/GPU 자원을 관리하는 OS마다 사용하는 방법이 모두 다르기 때문이다.
    
    프로그램을 작성하면서 모든 환경에 알맞게 작성하는 것은 노가다라 사실상 불가능하다.
    
    오픈소스에 잠깐 참여했을 때, 러시아에만 존재하는 학습용(?) OS에서 tensorflow가 제대로 작동하지 않아 애를쓴 적이 있다.

* 2. 경우의 수가 너무 많다 (프로그램 제작자 입장).

    프로그램을 사용하는 사용자들의 컴퓨터 스펙이 너무나 다양하기 때문에 어디에 손을 쓸줄 모른다.
    
    사용자 CPU 코어 개수가 1개부터 16개, 하이퍼 스레딩 지원 유무, 속도, 등등 (GPU도 해당)
    
    너무나도 많은 상황이 존재하기 때문에 프로그램 제작사 입장에서 최대한 활용할 수 있는 프로그램을 작성하기 어렵다.
    
    멀티 코어를 이용하는 경우, 메모리 공유 측면에서 에로사항이 있기 때문에 힘들다고한다.
    
    그래서 1코어만 사용하는 게임의 경우 사용자가 수백만원 16코어 CPU를 사용해도 최대 1/16 성능밖에 사용하지 못하는 경우가 있다.
    
* 3. 프로그램을 잘못 작성한 경우

    수백개의 네트워크 요청을 보내는 프로그램이 있는데 동기적으로 작성하면 아무리 좋은 하드웨어여도
    
    실행시간이 오래걸릴 수 밖에 없다. (생략...)